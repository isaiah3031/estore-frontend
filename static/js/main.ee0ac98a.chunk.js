(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{31:function(t,e,n){},44:function(t,e,n){},45:function(t,e,n){},54:function(t,e,n){},55:function(t,e,n){},57:function(t,e,n){},58:function(t,e,n){},59:function(t,e,n){},60:function(t,e,n){},61:function(t,e,n){},62:function(t,e,n){},63:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n.n(r),i=n(17),s=n.n(i),u=(n(44),n.p,n(45),n(6)),o=n(3),a=n(5),d=n(30),j=n(33),p=n(34),h=n.n(p),l="RECEIVE_CURRENT_USER",f="LOGOUT_CURRENT_USER",b="RECEIVE_SESSION_ERRORS",m="RECEIVE_PRODUCTS",A="RECEIVE_PRODUCT",O="RECEIVE_REVIEWS",g="ADD_TO_CART",v="REMOVE_FROM_CART",x="SAVE_TO_CART",C="RECEIVE_CART",E="RECEIVE_SEARCH_TERMS",y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l:return e.user;case f:return{};default:return t}},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l:return e.user;case f:return{};default:return t}},B=n(12),T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m:var n={};return e.products.map((function(t){return n[t.tcin]=t})),Object.assign({},t,n);case A:return Object.assign({},t,Object(B.a)({},e.product.tcin,e.product));default:return t}},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case O:var n=e.reviews[0].ProductId;return Object.assign({},t,Object(B.a)({},n,e.reviews));default:return t}},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g:return Object.assign({},t,Object(B.a)({},e.item,1));case v:var n=Object.assign({},t);return Object.keys(n).length<=1?n=[]:delete n[e.itemId],n;case C:case x:return Object.assign({},t,e.cart);default:return t}},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case E:return e.searchTerms;default:return t}},U=Object(a.combineReducers)({users:w,products:T,reviews:R,cart:I,searchTerms:k}),N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b:return e.errors;case l:return{};default:return t}},S=Object(a.combineReducers)({session:N}),P=Object(a.combineReducers)({session:y,entities:U,errors:S}),G=n(35),D=n.n(G),F=n(36),Y={key:"root",storage:h.a},X=Object(d.a)(Y,P),L=Object(a.createStore)(X,Object(j.composeWithDevTools)(Object(a.applyMiddleware)(F.a,D.a))),Q=Object(d.b)(L),V=n(37),H=n(4),K=n(16),M=n(7),J=n.n(M),W=function(t){return function(e){return e(function(t){return{type:g,item:t}}(t))}},q=function(t){return function(e){return e(function(t){return{type:v,itemId:t}}(t))}},z=function(t,e){return function(n){return function(t,e){return J.a.ajax({type:"PUT",url:"https://estore-iw-backend.herokuapp.com/api/users/".concat(t,"/carts/1"),data:{cart:{ordered:!1,owner_id:t,contents:e}}})}(t,e).then((function(t){var r={};return t.contents.forEach((function(t){return r[t]=r[t]?r[t]+=1:1})),0==Object.keys(e).length&&(r={}),n(function(t){return{type:x,cart:t}}(r))}))}},Z=function(t,e){return function(n){return function(t){return J.a.ajax({type:"GET",url:"https://estore-iw-backend.herokuapp.com/api/users/".concat(t,"/carts/1")})}(t).then((function(t){e=[].concat(Object(K.a)(Object.values(e)),Object(K.a)(t.contents));var r={};e.forEach((function(t){return r[t]=r[t]?r[t]+=1:1})),n(function(t){return{type:C,cart:t}}(r))}))}},_="aa3a6f134dmshf42b60c8bcee96ep1ef782jsn78b48b995001",$=function(t){return t=t.split(" ").join("%20"),J.a.ajax({async:!0,crossDomain:!0,url:"https://target1.p.rapidapi.com/products/list?storeId=911&endecaId=5xtg6&pageSize=20&pageNumber=1&sortBy=relevance&searchTerm=".concat(t),method:"GET",headers:{"x-rapidapi-key":_,"x-rapidapi-host":"target1.p.rapidapi.com"}})},tt=function(t){return function(e){return $(t).then((function(t){return e((n=t.products,{type:m,products:n}));var n}))}},et=function(t){return function(e){return function(t){return J.a.ajax({async:!0,crossDomain:!0,url:"https://target1.p.rapidapi.com/products/get-details?tcin=".concat(t,"&store_id=911"),method:"GET",headers:{"x-rapidapi-key":_,"x-rapidapi-host":"target1.p.rapidapi.com"}})}(t).then((function(t){var n=t.product||t.data.product;return e(function(t){return{type:A,product:t}}(n))}))}},nt=n(27),rt=n.n(nt),ct=n(38),it=function(t){return t.price?parseFloat(t.price.formatted_current_price.slice(1)):0},st=function(t){return("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then},ut=n(0),ot=function(t){var e,n,r=t.item;return Object(ut.jsxs)(ut.Fragment,{children:[Object(ut.jsx)("img",{src:(n=r,st(n)?null:n.images?n.images.primaryUri:n.item.enrichment.images.primary_image_url)}),Object(ut.jsx)("p",{children:(e=r.title,e?e.split(" ").filter((function(t){if(!["#","$","&",";"].some((function(e){return t.includes(e)})))return t})).join(" "):null)})]})},at=Object(o.b)((function(t,e){return{currentUser:t.session,item:e.item}}),(function(t){return{removeFromCart:function(e){return t(q(e))},receiveCart:function(e,n){return t(Z(e,n))},saveCart:function(e,n){return t(z(e,n))},fetchProduct:function(e){return t(et(e))}}}))(ot),dt=(n(31),n(54),function(t){var e=t.products,n=t.cart,c=t.currentUser,i=(t.removeFromCart,t.fetchProduct),s=(t.receiveCart,t.saveCart);function u(){return(u=Object(ct.a)(rt.a.mark((function t(e){return rt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i(e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(r.useEffect)((function(){c.id&&s(c.id,n)}),[]);if(n==={}||void 0===n)return null;var o=0;return Object(ut.jsxs)("div",{className:"icon cart-icon",children:[Object(ut.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAACkElEQVR4nO2bT4hNURzHP+95ihp/FtRkhGQlRbGgWSHJFAtRVixZULOSqNkpsjMLMmWDspA1FlZWI4rkf0nydzNSmnmGeRbnPPfN7Z658zj3fL37zqdOt36/0/l97/eee8553R5EuAaMAV9T7QOwXqgrGE+BhqMdF+oKQg3oB1YDlZb4WWAbUFWICkkNM/0fpOJjAi0SSv+E84gGqAWoiQaoBaiJBqgFqKnl5PuATSGE/G/cwH08LlXLmwETQH32vnUMVWDBTB2aM+BEEDnhWYOdAV2/CEYD1ALURAPUAtREA9QC1EQD1ALURAPUAtREA9QC1EQD1ALURAPUAtREA9QC1EQD1ALURAPUAtREA9QC1HS9AXnfBtcB+0IICUxvXof4ddjyHviU51YZKfvX4T90/SIYDVALUBMNUAtQk7cNHqWzD0J14DDwxNXBZcA7e+2zrZPpZwYDKo74QmA7MMeR3w0cdOTuACOzVdcGg5ibyeICcDcjXgduAz98CtkCTGIOSi+A08AQcJ/kiHnAZ0HgSMvY94BTwBngjY2NY363BGHUFr0FzGuJV4FLNvcZmOupXg/wzY57jumztgdjSAMz8wpnBcmTWJmRn08idqunmnvteB/JNnWDzf8CFrU7eLvb4HJ7/QK8zciPA89Sff+V5jiPMK9emsfAT8y9LPNU08lSjNtTwOKMfAVjTgPY7KnmLjveK0d+lc1PMv2VLIyXtuBwRm7Q5r57FLMEs4o3gEMZ+Ss2N+qpXi4DJOvATcw7OoBZAKds/JjnmkMk7/l5YCewH7MQN+OuLbIQTpJshel2Eff54m+pAVcd9SYwJ9bgbAQuYxah55g/Ye8ouOYe4DrwGniImXVrC65Zbn4DvYP7Y/DicpMAAAAASUVORK5CYII="}),Object(ut.jsxs)("ul",{className:"cart-preview",children:[Object.keys(n).map((function(t){var n=e[t]||function(t){return u.apply(this,arguments)}(t);return o+=it(n)||0,Object(ut.jsx)("li",{className:"cart-items",children:Object(ut.jsx)(at,{item:n})})})),Object(ut.jsx)("p",{children:0==o?"No Items in Cart :(":o})]})]})}),jt=Object(o.b)((function(t){return{cart:t.entities.cart,currentUser:t.session,products:t.entities.products}}),(function(t){return{removeFromCart:function(e){return t(q(e))},receiveCart:function(e,n){return t(Z(e,n))},saveCart:function(e,n){return t(z(e,n))},fetchProduct:function(e){return t(et(e))}}}))(dt),pt=function(t){return function(e){return(n=t,n=n.split(" ").join("%20"),J.a.ajax({async:!0,crossDomain:!0,url:"https://target1.p.rapidapi.com/auto-complete?q=".concat(n),method:"GET",headers:{"x-rapidapi-key":"aa3a6f134dmshf42b60c8bcee96ep1ef782jsn78b48b995001","x-rapidapi-host":"target1.p.rapidapi.com"}})).then((function(t){return e(function(t){return{type:E,searchTerms:t}}(t.suggestions))}));var n}},ht=n(19),lt=n(20),ft=n(22),bt=n(21),mt=(n(55),Object(H.f)((function(t){var e=t.results,n=t.input,r=t.history;if(""==n)return null;try{return Object(ut.jsx)("ul",{id:"search-dropdown",children:e.map((function(t){return Object(ut.jsx)("li",{onClick:function(t){return function(t){var e=t.target.textContent.split(" ").join("%20");r.push("/search/".concat(e)),r.go()}(t)},children:t.label},t.id)}))})}catch(c){return null}}))),At=n.p+"static/media/store-search.1d92f967.png",Ot=function(t){Object(ft.a)(n,t);var e=Object(bt.a)(n);function n(t){var r;return Object(ht.a)(this,n),(r=e.call(this,t)).state={input:"",results:r.props.searchTerms},r}return Object(lt.a)(n,[{key:"componentDidUpdate",value:function(t,e){JSON.stringify(this.state.input)!==JSON.stringify(e.input)&&this.props.fetchSearchSuggestions(this.state.input)}},{key:"handleChanges",value:function(t){this.setState({input:t.target.value,results:this.props.searchTerms})}},{key:"returnSearchSuggestions",value:function(){return Object(ut.jsx)("ul",{children:Object.values(this.state.results).map((function(t){return Object(ut.jsx)("li",{children:t.label})}))})}},{key:"handleSubmit",value:function(){var t=this,e=this.props.history,n=this.state.input.split(" ").join("%20");e.push("/search/".concat(n)),setTimeout((function(e){t.props.history.go()}),10)}},{key:"render",value:function(){var t=this;return Object(ut.jsxs)(ut.Fragment,{children:[Object(ut.jsxs)("form",{onSubmit:function(){return t.handleSubmit()},children:[Object(ut.jsx)("input",{type:"text",id:"search-bar",onChange:function(e){return t.handleChanges(e)},placeholder:"Search",value:this.state.input}),Object(ut.jsx)("button",{id:"search-button",style:{backgroundImage:"url(".concat(At,")")}})]}),Object(ut.jsx)(mt,{results:this.props.searchTerms,input:this.state.input})]})}}]),n}(c.a.Component),gt=Object(H.f)(Ot),vt=Object(o.b)((function(t){return{searchTerms:t.entities.searchTerms}}),(function(t){return{fetchSearchSuggestions:function(e){return t(pt(e))},fetchProductsByKeyword:function(e){return t($(e))}}}))(gt),xt=Object(H.f)((function(t){var e=t.currentUser,n=t.logout,r=t.history;return Object(ut.jsxs)("div",{className:"header-container",children:[Object(ut.jsxs)("section",{className:"header-1",children:[Object(ut.jsxs)(u.b,{className:"home",to:"/",children:[Object(ut.jsx)("img",{src:"data:image/png;base64,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"}),Object(ut.jsx)("h1",{className:"logo",children:"Store"})]}),Object(ut.jsx)("div",{children:Object(ut.jsx)(vt,{})})]}),Object(ut.jsxs)("section",{className:"header-2",children:[Object(ut.jsx)("div",{children:Object(ut.jsx)("ul",{children:["clothes","furniture","electronics","plants"].map((function(t){return Object(ut.jsx)("li",{className:"category",onClick:function(){r.push("/search/".concat(t,"%20at%20target")),r.go()},children:t})}))})}),Object(ut.jsxs)("section",{children:[Object(ut.jsxs)("div",{className:"icon user-icon",children:[Object(ut.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAADsUlEQVR4nO2az0sWQRjHP5ZWiqa91SGtEFMyxAKhoB9QUBBBh0LroB69ewk61qUw+gFd6w8o9VCXThnUxSBJtISysiTLkOwlSjB9DTvMvLy+4+6++zozu6+9+4E5zPvufr/Pzu7OzjwzEBERERERkbcUhOC5A9gFVALb5G/fgElgDJgIISbrNACXgWFgMUMZlsc2hBCnceqAXjJftFvplRqrjkLgBpBg5RefLAngutQ0jo0+YBPQA5xw+T8BDACfEe89iP5gJ7AfKHI5rw84B/w0FqkFKoFRnO9kP9AGVHicXyGP6XfRGJUeOUkx4s6qQX8Cmleg1yzPVfUGpFdOUQB0szzYPiCmoRuTGqrufZ1gbdDG8iC7gbUGtAsRfYqq32pA2wjrWP6ovsTsY1oCDCoeH6V36HSSHtgfoMaCT43UXurVacEna96SHtRNi163FK83Fr18sYf0gGbR6/QyEWP5U1CvI7hGM6AzSr0PiGtqehGXHl4xZIVuAxxU6g819fzwQKkf0hHTbYAqpT6sqeeHV0pda2So2wCq+aTjUWZRPUIdGs+T3iEF8V1er3jO6YjpPgE/lPoWTT0/qB5qDFmh2wBhPI5GXzvdBviq1Pdp6vlhr1IPtQGeK3Wtb7JPzir1/gA8XVn1I0ET5PVcAIKdDc4pXjkxG3TKBwySR/kAcM8ImUhl53xGCOzmBJ846OZcThC8s8ItK9BrwTkr/IIczAonybQu0E7mdYF2AlwXCHNlaILUSLIKsWp8APd+4zFwnhxfGUpSiFjPM7E2OI/FtUHb1OHcg/stPUBt4FFboAG4BAyR+aKH5LGB7A8IY4fIdlI7RJId2iSpHSJfQogpIiIiIj8J8itQhJjT1wFbgVKgTP73G5gBvgPvEVPdRBBB2WyAzcBx4BhwFNiN/w0TfxHj/mfAU8SMUCv9HRQliHn6I8wMg5MlITVbpUfOEUOM3qYxd9FuZVp6GUm+6r4CG4CLwAXEO+3FImKU9wGxR/AX4r1HnrsRsVewFjFazBTbDGIz5jVEHjJwTiOGrl536zXQBZwkcwMtpVSe0yU1vDzGZCyBUQzc9QgojrgrjQY9G6Vm3MP3DgFkiuqBEZcApvD3KuhQKj2mXGIYweJCyRGc78ACcBsot2XsQLn0XHCIJw4cNm14CrHspZq9A5pMm2VBE2LgpMY1i4jZGNXAuGJyj9RILkzKEGnypbGNI2I2SjWpRrhiWtwAV7F48UmqgQ5b4gbowOLFR0RE/H/8A+Dc1CKEFAu9AAAAAElFTkSuQmCC"}),e.id?Object(ut.jsxs)("h1",{className:"user-options",children:["Welcome, ",e.username,"!",Object(ut.jsx)("button",{onClick:function(){return n()},children:"Logout"})]}):Object(ut.jsxs)("div",{className:"user-options",children:[Object(ut.jsx)("h2",{children:"Welcome, Guest!"}),Object(ut.jsxs)("section",{children:[Object(ut.jsx)(u.b,{to:"/signup",children:Object(ut.jsx)("button",{children:"Sign up"})}),Object(ut.jsx)(u.b,{to:"/login",children:Object(ut.jsx)("button",{children:"Login"})})]})]})]}),Object(ut.jsx)(jt,{})]})]})]})})),Ct=function(t){return{type:l,user:t}},Et=function(t){return function(e){return e({type:"START_LOADING"}),function(t){return J.a.ajax({type:"POST",url:"https://estore-iw-backend.herokuapp.com/api/sessions",data:t})}(t).then((function(t){return e(Ct(t))}))}},yt=function(t){return function(e){return e({type:"START_LOADING"}),function(t){return J.a.ajax({type:"POST",url:"https://estore-iw-backend.herokuapp.com/api/users",data:t})}(t).then((function(t){return e(Ct(t))}))}},wt=function(){return function(t){return t({type:"START_LOADING"}),J.a.ajax({type:"DELETE",url:"https://estore-iw-backend.herokuapp.com/api/sessions"}).then((function(){return t({type:f})}))}},Bt=Object(o.b)((function(t){return{currentUser:t.session}}),(function(t){return{signup:function(e){return t(yt(e))},login:function(e){return t(Et(e))},logout:function(){return t(wt())}}}))(xt),Tt=n(15),Rt=(n(57),function(t){Object(ft.a)(n,t);var e=Object(bt.a)(n);function n(t){var r;return Object(ht.a)(this,n),(r=e.call(this,t)).state={username:"",password:""},r.handleInput=r.handleInput.bind(Object(Tt.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(Tt.a)(r)),r}return Object(lt.a)(n,[{key:"setEmptyState",value:function(){this.setState({username:"",password:""})}},{key:"handleInput",value:function(t){this.setState(Object(B.a)({},t.target.id,t.target.value))}},{key:"handleSubmit",value:function(){var t=this;this.props.processForm({user:this.state}).then((function(e){t.props.receiveCart(e.user.id)})),this.setState({username:"",password:""})}},{key:"handleLinkTo",value:function(){return"login"===this.props.formType?"signup?":"login?"}},{key:"handleErrors",value:function(){return this.props.errors?Object.values(this.props.errors):[]}},{key:"render",value:function(){var t=this;return Object(ut.jsxs)("div",{className:"session-page",children:[Object(ut.jsxs)("div",{className:"toggle-session",children:[Object(ut.jsx)("h1",{children:"Welcome!"}),Object(ut.jsx)(u.b,{to:this.handleLinkTo(),children:Object(ut.jsx)("button",{children:this.handleLinkTo()})})]}),Object(ut.jsxs)("form",{className:"session-form",onSubmit:this.handleSubmit,children:[this.handleErrors().map((function(t){return Object(ut.jsx)("p",{children:t})})),Object(ut.jsx)("h1",{children:"login"===this.props.formType?"Sign In":"Create Account"}),Object(ut.jsx)("input",{type:"text",placeholder:"Username",id:"username",onChange:function(e){return t.handleInput(e)},value:this.state.username}),Object(ut.jsx)("input",{type:"password",placeholder:"Password",id:"password",onChange:function(e){return t.handleInput(e)},value:this.state.password}),Object(ut.jsx)("button",{type:"submit",onSubmit:function(){return t.handleSubmit()},children:"Submit"})]})]})}}]),n}(c.a.Component)),It=Object(o.b)((function(t){return{errors:t.errors.session,formType:"signup",currentUser:t.session}}),(function(t){return{processForm:function(e){return t(yt(e))},receiveCart:function(e){return t(Z(e,{}))}}}))(Rt),kt=Object(o.b)((function(t){return{errors:t.errors.session,formType:"login",currentUser:t.session}}),(function(t){return{processForm:function(e){return t(Et(e))},receiveCart:function(e){return t(Z(e,{}))}}}))(Rt),Ut=(n(58),Object(H.f)((function(t){var e=t.product,n=t.history,r=t.addToCart,c=t.saveCart,i=t.cart,s=t.currentUser;if(Object.values(e)[0]==["Tcin not found."])return null;return Object(ut.jsxs)("div",{className:"product-display",children:[Object(ut.jsxs)("div",{id:e.tcin,onClick:function(){n.push("/product/".concat(e.tcin))},children:[Object(ut.jsx)("img",{className:"product-image",src:"".concat(e.images?e.images.primaryUri:e.item.enrichment.images.primary_image_url)}),Object(ut.jsxs)("div",{className:"product-info",children:[Object(ut.jsx)("h2",{children:e.price.formatted_current_price}),Object(ut.jsx)("h2",{children:e.title})]})]}),Object(ut.jsx)("input",{className:"plus-button",type:"button",value:"+",onClick:function(){return t=e.tcin,void new Promise((function(e){return e(r(t))})).then((function(t){var e=[].concat(Object(K.a)(Object.keys(i)),[t.item]);c(s.id,e)}));var t}})]})}))),Nt=Object(o.b)((function(t,e){return{product:e.product,cart:t.entities.cart,currentUser:t.session}}),(function(t){return{addToCart:function(e){return t(W(e))},saveCart:function(e){return t(z(e))}}}))(Ut),St=(n(59),Object(H.f)((function(t){var e=t.fetchProductsByKeyword,n=t.products;return Object(r.useEffect)((function(){e("electronics from target")}),[]),Object(ut.jsx)("div",{className:"vertical-lists",children:Object.values(n).map((function(t){return Object(ut.jsx)(Nt,{product:t})}))})}))),Pt=Object(o.b)((function(t){return{products:t.entities.products,cart:t.entities.cart,currentUser:t.session}}),(function(t){return{fetchProductsByKeyword:function(e){return t(tt(e))},receiveCart:function(e,n){return t(Z(e,n))}}}))(St),Gt=function(t){return function(e){return function(t){return J.a.ajax({async:!0,crossDomain:!0,url:"https://target1.p.rapidapi.com/reviews/list?tcin=".concat(t,"&sort=time_desc&limit=30&offset=0"),method:"GET",headers:{"x-rapidapi-key":_,"x-rapidapi-host":"target1.p.rapidapi.com"}})}(t).then((function(t){var n=t.result;return e({type:O,reviews:n})}))}},Dt=(n(60),function(t){var e=t.fetchReviews,n=t.reviews,c=t.productId;Object(r.useEffect)((function(){e(c)}),[]);try{return Object(ut.jsxs)("section",{className:"review-container",children:[Object(ut.jsx)("h2",{children:"Reviews"}),n[c].map((function(t){return Object(ut.jsxs)("div",{className:"review",children:[Object(ut.jsx)("h3",{children:t.Title}),Object(ut.jsx)("p",{children:t.ReviewText}),Object(ut.jsxs)("p",{children:["- ",t.UserNickname]})]})})),")"]})}catch(i){return null}}),Ft=Object(o.b)((function(t,e){return{reviews:t.entities.reviews,productId:e.productId}}),(function(t){return{fetchReviews:function(e){return t(Gt(e))}}}))(Dt),Yt=(n(61),Object(H.f)((function(t){var e=t.fetchProduct,n=t.products,c=t.match,i=parseInt(c.params.product_id);Object(r.useEffect)((function(){e(i)}),[]);var s;try{var u=n[i];return Object(ut.jsxs)(ut.Fragment,{children:[Object(ut.jsxs)("div",{className:"product-details",children:[Object(ut.jsxs)("section",{className:"description",children:[Object(ut.jsx)("h2",{children:(s=u.title,s.split(" - ")[0])}),Object(ut.jsx)("p",{children:u.description}),Object(ut.jsxs)("p",{children:[u.price.formatted_current_price,Object(ut.jsx)("input",{type:"button",value:"Add to Cart"})]})]}),Object(ut.jsx)("img",{src:"".concat(u.images.primaryUri)})]}),Object(ut.jsx)(Ft,{productId:i})]})}catch(o){return null}}))),Xt=Object(o.b)((function(t){return{products:t.entities.products}}),(function(t){return{fetchProduct:function(e){return t(et(e))}}}))(Yt),Lt=function(t){var e=t.results,n=t.fetchProductsByKeyword,c=t.match;Object(r.useEffect)((function(){n(c.params.search_terms)}),[]);try{return Object(ut.jsx)("div",{className:"vertical-lists",children:Object.values(e).map((function(t){return Object(ut.jsx)(Nt,{product:t})}))})}catch(i){return null}},Qt=Object(o.b)((function(t){return{results:t.entities.products}}),(function(t){return{fetchProductsByKeyword:function(e){return t(tt(e))}}}))(Lt),Vt=(n(62),function(t,e){var n=t.cart,r=t.currentUser,c=t.products,i=t.saveCart,s=t.removeFromCart,u=function(t){new Promise((function(e){return e(s(t))})).then((function(t){var e=Object.keys(n).filter((function(e){return e!=t.itemId}));i(r.id,e)}))},o=0;return Object(ut.jsxs)("div",{className:"cart-and-total",children:[Object(ut.jsx)("ul",{children:Object.keys(n).map((function(t){var n,r=c[n=t]?c[n]:new Promise(e.fetchProduct(n)).then((function(){return c[n]}));return o+=it(r),Object(ut.jsxs)("li",{className:"cart-items",children:[Object(ut.jsx)(ot,{item:r}),Object(ut.jsx)("input",{type:"button",value:"remove?",onClick:function(){return u(r.tcin)}})]})}))}),Object(ut.jsxs)("p",{className:"total",children:[o,Object(ut.jsx)("button",{onClick:function(){Object.keys(n).forEach((function(t){return u(t)}))},children:"Purchase"})]})]})}),Ht=Object(o.b)((function(t){return{cart:t.entities.cart,currentUser:t.session,products:t.entities.products}}),(function(t){return{removeFromCart:function(e){return t(q(e))},receiveCart:function(e,n){return t(Z(e,n))},saveCart:function(e,n){return t(z(e,n))},fetchProduct:function(e){return t(et(e))}}}))(Vt),Kt=function(){return Object(ut.jsxs)("div",{children:[Object(ut.jsx)("header",{children:Object(ut.jsx)(Bt,{})}),Object(ut.jsx)(H.a,{path:"/signup",component:It}),Object(ut.jsx)(H.a,{path:"/login",component:kt}),Object(ut.jsxs)(H.c,{children:[Object(ut.jsx)(H.a,{exact:!0,path:"/cart",component:Ht}),Object(ut.jsx)(H.a,{exact:!0,path:"/search/:search_terms",component:Qt}),Object(ut.jsx)(H.a,{exact:!0,path:"/product/:product_id",component:Xt}),Object(ut.jsx)(H.a,{exact:!0,path:"/",component:Pt})]})]})},Mt=function(t){var e=t.store;return Object(ut.jsx)(o.a,{store:e,children:Object(ut.jsx)(V.a,{persistor:Q,children:Object(ut.jsx)(u.a,{children:Object(ut.jsx)(Kt,{})})})})};var Jt=function(){return Object(ut.jsx)("div",{className:"App",children:Object(ut.jsx)(Mt,{store:L})})},Wt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,i=e.getLCP,s=e.getTTFB;n(t),r(t),c(t),i(t),s(t)}))};window.$=J.a,window.jQuery=J.a,s.a.render(Object(ut.jsx)(c.a.StrictMode,{children:Object(ut.jsx)(Jt,{})}),document.getElementById("root")),Wt()}},[[63,1,2]]]);
//# sourceMappingURL=main.ee0ac98a.chunk.js.map